#!/bin/bash
# Commit message validation

COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

PATTERN="^(feat|fix|docs|style|refactor|perf|test|chore|build|ci|revert)(\(.+\))?: .{1,100}"

if ! echo "$COMMIT_MSG" | grep -qE "$PATTERN"; then
    echo "‚ùå Invalid commit message format"
    echo ""
    echo "Use: <type>[scope]: <description>"
    echo "Example: feat: add enemy spawning"
    exit 1
fi
